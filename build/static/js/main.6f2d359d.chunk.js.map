{"version":3,"sources":["logo.svg","localstorage/localstorage.js","components/Meal/Meal.js","components/OrderList/OrderList.js","components/Restaurant/Restaurant.js","components/Header/Header.js","App.js","reportWebVitals.js","index.js"],"names":["saveToDb","db","dbJSON","JSON","stringify","localStorage","setItem","getDb","savedDb","getItem","parse","Meal","props","meal","strMeal","strInstructions","strMealThumb","handleAddToOrder","className","src","alt","slice","onClick","OrderList","order","count","reduce","previous","quantity","console","log","Restaurant","useState","meals","setMeals","setOrder","useEffect","fetch","then","res","json","data","length","savedOrder","mealId","find","ml","idMeal","push","newOrder","item","addToDb","map","Header","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2PAAe,I,mBCiBTA,EAAW,SAAAC,GACb,IAAMC,EAASC,KAAKC,UAAUH,GAC9BI,aAAaC,QAAQ,gBAAiBJ,IAGpCK,EAAQ,WACV,IAAIC,EAAUH,aAAaI,QAAQ,iBACnC,OAAOD,EAAUL,KAAKO,MAAMF,GAAW,I,eCR5BG,EAbF,SAACC,GAAW,IAAD,EAC+BA,EAAMC,KAAjDC,EADY,EACZA,QAASC,EADG,EACHA,gBAAiBC,EADd,EACcA,aAC1BC,EAA2BL,EAA3BK,iBAAkBJ,EAASD,EAATC,KAC1B,OACI,sBAAKK,UAAU,OAAf,UACI,qBAAKC,IAAKH,EAAcI,IAAI,KAC5B,6BAAKN,IACL,4BAAIC,EAAgBM,MAAM,EAAG,OAC7B,wBAAQC,QAAS,kBAAML,EAAiBJ,IAAxC,+BCcGU,EAvBG,SAACX,GAAW,IAClBY,EAAUZ,EAAVY,MAKFC,EAAQD,EAAME,QAAO,SAACC,EAAUd,GAAX,OAAoBc,EAAWd,EAAKe,WAAU,GASzE,OAFAC,QAAQC,IAAIN,GAGR,gCACI,4CACA,iDAAoBC,SCiDjBM,G,MA/DI,WAAO,IAAD,EACKC,mBAAS,IADd,mBACdC,EADc,KACPC,EADO,OAEKF,mBAAS,IAFd,mBAEdR,EAFc,KAEPW,EAFO,KAIrBC,qBAAU,WACNC,MAAM,6DACDC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAIP,EAASO,EAAKR,YACjC,IAeHG,qBAAU,WACN,GAAIH,EAAMS,OAAQ,CACd,IAAMlC,EAAUD,IACVoC,EAAa,GAFL,WAGHC,GACP,IAAM/B,EAAOoB,EAAMY,MAAK,SAAAC,GAAE,OAAIA,EAAGC,SAAWH,KACtChB,EAAWpB,EAAQoC,GACzB/B,EAAKe,SAAWA,EAChBe,EAAWK,KAAKnC,IAJpB,IAAK,IAAM+B,KAAUpC,EAAU,EAApBoC,GAMXT,EAASQ,MAEd,CAACV,IAEJ,IAAMhB,EAAmB,SAAAJ,GACrBA,EAAKe,SAAW,EAChB,IAAMqB,EAAQ,sBAAOzB,GAAP,CAAcX,IAC5BsB,EAASc,GH9CD,SAAAC,GACZ,IAAMjD,EAAKM,IAEPN,EAAGiD,GADHA,KAAQjD,EACGA,EAAGiD,GAAQ,EAGX,EAEflD,EAASC,GGuCLkD,CAAQtC,EAAKkC,SAGjB,OACI,sBAAK7B,UAAU,kBAAf,UACI,qBAAKA,UAAU,kBAAf,SAEQe,EAAMmB,KAAI,SAAAvC,GAAI,OAAI,cAAC,EAAD,CAEdA,KAAMA,EACNI,iBAAkBA,GAFbJ,EAAKkC,aAMtB,qBAAK7B,UAAU,aAAf,SACI,cAAC,EAAD,CAAWM,MAAOA,WCnDnB6B,EATA,WACX,OACI,gCACI,0DACA,oECQGC,MATf,WACE,OACE,sBAAKpC,UAAU,MAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,QCGSqC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBnB,MAAK,YAAkD,IAA/CoB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.6f2d359d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","const addToDb = item => {\r\n    const db = getDb();\r\n    if (item in db) {\r\n        db[item] = db[item] + 1;\r\n    }\r\n    else {\r\n        db[item] = 1;\r\n    }\r\n    saveToDb(db);\r\n}\r\n\r\nconst removeFromDb = item => {\r\n    const db = getDb();\r\n    delete db[item];\r\n    saveToDb(db);\r\n}\r\n\r\nconst saveToDb = db => {\r\n    const dbJSON = JSON.stringify(db);\r\n    localStorage.setItem('shopping-cart', dbJSON);\r\n}\r\n\r\nconst getDb = () => {\r\n    let savedDb = localStorage.getItem('shopping-cart');\r\n    return savedDb ? JSON.parse(savedDb) : {};\r\n}\r\n\r\nexport { addToDb, removeFromDb, getDb };","import React from 'react';\r\nimport './Meal.css';\r\n\r\nconst Meal = (props) => {\r\n    const { strMeal, strInstructions, strMealThumb } = props.meal;\r\n    const { handleAddToOrder, meal } = props;\r\n    return (\r\n        <div className=\"meal\">\r\n            <img src={strMealThumb} alt=\"\" />\r\n            <h4>{strMeal}</h4>\r\n            <p>{strInstructions.slice(0, 100)}</p>\r\n            <button onClick={() => handleAddToOrder(meal)}>Add this Food</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Meal;","import React from 'react';\r\n\r\nconst OrderList = (props) => {\r\n    const { order } = props;\r\n\r\n    // const countReducer = (previous, meal) => previous + meal.quantity;\r\n    // const count = order.reduce(countReducer, 0);\r\n\r\n    const count = order.reduce((previous, meal) => previous + meal.quantity, 0);\r\n\r\n    // let count = 0;\r\n    // for (const meal of order) {\r\n    //     count = count + meal.quantity;\r\n    // }\r\n\r\n    console.log(order);\r\n\r\n    return (\r\n        <div>\r\n            <h2>Order List</h2>\r\n            <h4>Items Ordered: {count}</h4>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OrderList;","import React, { useEffect, useState } from 'react';\r\nimport { addToDb, getDb } from '../../localstorage/localstorage';\r\nimport Meal from '../Meal/Meal';\r\nimport OrderList from '../OrderList/OrderList';\r\nimport './Restaurant.css';\r\n\r\nconst Restaurant = () => {\r\n    const [meals, setMeals] = useState([]);\r\n    const [order, setOrder] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetch('https://www.themealdb.com/api/json/v1/1/search.php?s=fish')\r\n            .then(res => res.json())\r\n            .then(data => setMeals(data.meals));\r\n    }, []);\r\n    /* \r\n        The above api link or the below method will now work for search. \r\n        if you want to implement search in this code. \r\n        1. add a input field \r\n        2. declare a state to keep search field text\r\n        3. Make meal loading api to dependant on search text\r\n        4. change the meal loading api.you will get the right api link on their website.\r\n        5. make the meal loading api dynamic using template string. \r\n        6. Also, the useEffect below will not work. Because, search result might not include the meals previously added to the cart\r\n        7. in that case, for each mealId, you have to load the meal from the api (you will find a new pai to load meal by Id) and then add them to the order state.\r\n        ---------------  \r\n        Read carefully, give it a try. [ Ki ache jibone]\r\n        if  you need help, let us know in the support session\r\n    */\r\n    useEffect(() => {\r\n        if (meals.length) {\r\n            const savedDb = getDb();\r\n            const savedOrder = [];\r\n            for (const mealId in savedDb) {\r\n                const meal = meals.find(ml => ml.idMeal === mealId)\r\n                const quantity = savedDb[mealId];\r\n                meal.quantity = quantity;\r\n                savedOrder.push(meal);\r\n            }\r\n            setOrder(savedOrder);\r\n        }\r\n    }, [meals])\r\n\r\n    const handleAddToOrder = meal => {\r\n        meal.quantity = 1;\r\n        const newOrder = [...order, meal];\r\n        setOrder(newOrder);\r\n        addToDb(meal.idMeal);\r\n    }\r\n\r\n    return (\r\n        <div className=\"restaurant-menu\">\r\n            <div className=\"meals-container\">\r\n                {\r\n                    meals.map(meal => <Meal\r\n                        key={meal.idMeal}\r\n                        meal={meal}\r\n                        handleAddToOrder={handleAddToOrder}\r\n                    ></Meal>)\r\n                }\r\n            </div>\r\n            <div className=\"order-list\">\r\n                <OrderList order={order}></OrderList>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Restaurant;","import React from 'react';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <div>\r\n            <h2>Welcome to My Restaurant</h2>\r\n            <h4>Please order the food you like</h4>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import logo from './logo.svg';\nimport './App.css';\nimport Restaurant from './components/Restaurant/Restaurant';\nimport Header from './components/Header/Header';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header></Header>\n      <Restaurant></Restaurant>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}